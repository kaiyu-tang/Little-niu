#!/usr/bin/env python  
# -*- coding: utf-8 -*-  
# @Time    : 2018/7/17 上午11:50  
# @Author  : Kaiyu  
# @Site    :   
# @File    : data-process.py
import json
import re

texts = '''<ul class="ant-timeline textlive-container fifa"><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90'</div><div class="content">在 莫斯科  卢日尼基体育场 体育场举行的比赛已经结束，最终比分为 5 - 0 。本场比赛的主裁判为 内斯特，皮塔纳 。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+5'</div><div class="content">俄罗斯球员亚历山大 戈洛温的一粒入球扩大了主队的领先优势，当前比分为5 - 0.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+3'</div><div class="content">裁判员向沙特阿拉伯的泰希尔 阿尔-贾萨姆出示了一张黄牌。客队有所不满.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+3'</div><div class="content">俄罗斯能把握住这个禁区边上的人以为吗?</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+3'</div><div class="content">沙特阿拉伯在己方半场获得任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+1'</div><div class="content">进球了!助攻的是 阿尔乔姆 久巴 。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+1'</div><div class="content">比分的差距扩大了。主队俄罗斯凭借丹尼斯 谢里谢夫的进球，成功将比分改写：4 - 0！.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+1'</div><div class="content">任意球俄罗斯获得个后场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90+1'</div><div class="content">下半场 伤停补时 3 分钟.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90'</div><div class="content">内斯特，皮塔纳判罚沙特阿拉伯后场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">90'</div><div class="content">主裁判 内斯特，皮塔纳 给了 俄罗斯 队一个球场 右路 的角球。由 亚历山大 戈洛温 主罚。比赛城市： 莫斯科 。比赛场馆： 卢日尼基体育场 。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">88'</div><div class="content">主裁 内斯特，皮塔纳 给了 俄罗斯 球员 亚历山大 戈洛温 本场比赛的第一张黄牌.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">88'</div><div class="content">沙特阿拉伯在己方半场获得任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">87'</div><div class="content">任意球沙特阿拉伯获得个后场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">87'</div><div class="content">角球被开出． 俄罗斯 球员 亚历山大 戈洛温 在前场底线的右路开出了角球．比赛城市：莫斯科，比赛场馆：卢日尼基体育场，主裁判 内斯特，皮塔纳 。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">85'</div><div class="content">内斯特，皮塔纳判给俄罗斯前场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">85'</div><div class="content">场上换人。 客队沙特阿拉伯将穆罕默德 阿尔-萨赫拉维换下，由阿西里 穆罕纳德替补出场.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">84'</div><div class="content">Saudi Arabia have a goal kick.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">84'</div><div class="content">俄罗斯 的球员 库兹亚耶夫 射门，不过球偏出了门框范围内。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">83'</div><div class="content">俄罗斯在俄罗斯半场的界外球会有所作为吗?</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">82'</div><div class="content">沙特阿拉伯在对方半场掷界外球。.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">82'</div><div class="content">沙特阿拉伯 前场得到一次射门机会. 巴希尔 哈腾 ，但是被 俄罗斯 破坏.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">82'</div><div class="content">在卢日尼基体育场掷界外球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">81'</div><div class="content">沙特阿拉伯在沙特阿拉伯半场的界外球会有所作为吗?</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">81'</div><div class="content">沙特阿拉伯在己方半场获得任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">80'</div><div class="content">俄罗斯在莫斯科踢前场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">78'</div><div class="content">内斯特，皮塔纳判罚沙特阿拉伯后场界外球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">77'</div><div class="content">沙特阿拉伯 球门球 .</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">77'</div><div class="content">比赛进行的如火如荼。 俄罗斯 的 佐布宁 罗曼 头球攻门，偏出了球门。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">76'</div><div class="content">俄罗斯前场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">76'</div><div class="content">俄罗斯在对方半场掷界外球。.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">75'</div><div class="content">俄罗斯能把握住在俄罗斯半场的界外球吗.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">75'</div><div class="content">沙特阿拉伯在莫斯科踢前场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">74'</div><div class="content">任意球沙特阿拉伯获得个后场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">74'</div><div class="content">场上发生人员调整。 沙特阿拉伯的巴希尔 哈腾替补登场，换下了叶海亚，谢里.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">73'</div><div class="content">球出界了俄罗斯球门球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">73'</div><div class="content">沙特阿拉伯 的球员 萨莱姆 阿尔达夫萨里 射门，不过球偏出了门框范围内。比赛城市： 莫斯科 。比赛场馆： 卢日尼基体育场 。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">71'</div><div class="content">亚历山大 戈洛温 好一次漂亮的助攻，进球了!</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">71'</div><div class="content">进球了! 阿尔乔姆 久巴 头球攻入一球.当前比分： 3 - 0 。 俄罗斯 扩大了领先优势。比赛城市： 莫斯科 。比赛场地： 卢日尼基体育场 。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">71'</div><div class="content">内斯特，皮塔纳判了俄罗斯一个对方大禁区边上的界外球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">71'</div><div class="content">在卢日尼基体育场掷界外球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">70'</div><div class="content">主队 俄罗斯 第三次换人,由 阿尔乔姆 久巴 替代 费多尔 斯莫洛夫 上场进行比赛.这是在 莫斯科 的 卢日尼基体育场 进行的比赛.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">70'</div><div class="content">内斯特，皮塔纳判罚俄罗斯后场界外球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">68'</div><div class="content">沙特阿拉伯在己方半场掷界外球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">68'</div><div class="content">俄罗斯位置很好的界外球。.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">68'</div><div class="content">俄罗斯 队的球员 佐布宁 罗曼 射门。可惜打中了门框，没进。比赛城市： 莫斯科 。比赛场馆： 卢日尼基体育场 。</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">67'</div><div class="content">内斯特，皮塔纳判罚沙特阿拉伯后场任意球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">66'</div><div class="content">内斯特，皮塔纳判了沙特阿拉伯一个对方大禁区边上的界外球.</div></div></li><li class="ant-timeline-item"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">66'</div><div class="content">俄罗斯在俄罗斯半场的界外球会有所作为吗?</div></div></li><li class="ant-timeline-item ant-timeline-item-last"><div class="ant-timeline-item-tail"></div><div class="ant-timeline-item-head ant-timeline-item-head-blue"></div><div class="ant-timeline-item-content"><div class="time">58'</div><div class="content">沙特阿拉伯 快速反击,可惜裁判 内斯特，皮塔纳 吹响了越位的哨声.</div></div></li></ul>'''
if __name__ == '__main__':
    content = re.findall('''<div class="time">(.+?)'</div><div class="content">(.+?)</div></div>''', texts)
    for index, item in enumerate(content):
        time_ = item[0]
        text_ = item[1]
        if '+' not in time_:
            content[index] = [text_, int(time_)]
        else:
            time_ = time_.split('+')
            content[index] = [text_, sum(map(int, time_))]
    with open('cut-text.json', 'w', encoding='utf-8') as f:
        json.dump(content, f, indent=2, ensure_ascii=False, separators=(',', ': '))
